!function i(s,a,f){function c(e,t){if(!a[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return c(s[e][1][t]||t)},o,o.exports,i,s,a,f)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<f.length;t++)c(f[t]);return c}({1:[function(t,e,r){"use strict";var n=t("peako/default-to"),o=t("./math/Vector2D");function i(t,e){e||(e={}),this.xSpeed=n(e.xSpeed,1),this.ySpeed=n(e.ySpeed,1),this.zoomInSpeed=n(e.zoomInSpeed,1),this.zoomOutSpeed=n(e.zoomOutSpeed,1),this.zoom=n(e.zoom,1),this.minZoom=n(e.minZoom,1),this.maxZoom=n(e.maxZoom,1),this.useLinearZoomIn=n(e.useLinearZoomIn,!0),this.useLinearZoomOut=n(e.useLinearZoomOut,!0),this.offset=e.offset,t?(this.offset||(this.offset=new o(.5*t.w,.5*t.h)),this.renderer=t):this.offset||(this.offset=new o),this.position=[0,0,0,0,0,0]}i.prototype={update:function(){var t=this.position;return t[0]!==t[2]&&(t[0]+=(t[2]-t[0])*this.xSpeed),t[1]!==t[3]&&(t[1]+=(t[3]-t[1])*this.ySpeed),this},lookAt:function(t){var e=this.position,r=this.offset;return e[2]=r.x/this.zoom-(e[4]=t.x),e[3]=r.y/this.zoom-(e[5]=t.y),this},shouldLookAt:function(){return new o(this.position[4],this.position[5])},looksAt:function(){var t=(this.offset.x-this.position[0]*this.zoom)/this.zoom,e=(this.offset.y-this.position[1]*this.zoom)/this.zoom;return new o(t,e)},sees:function(t,e,r,n,o){var i=this.offset,s=this.looksAt();return o||(o=this.renderer),t+r>s.x-i.x/this.zoom&&t<s.x+(o.w-i.x)/this.zoom&&e+n>s.y-i.y/this.zoom&&e<s.y+(o.h-i.y)/this.zoom},zoomIn:function(){var t;this.zoom!==this.maxZoom&&(t=this.useLinearZoomIn?this.zoomInSpeed*this.zoom:this.zoomInSpeed,this.zoom=Math.min(this.zoom+t,this.maxZoom))},zoomOut:function(){var t;this.zoom!==this.minZoom&&(t=this.useLinearZoomOut?this.zoomOutSpeed*this.zoom:this.zoomOutSpeed,this.zoom=Math.max(this.zoom-t,this.minZoom))},constructor:i},e.exports=i},{"./math/Vector2D":25,"peako/default-to":52}],2:[function(t,e,r){"use strict";function n(t,e,r,n,o,i,s){this.image=t,this.x=e,this.y=r,this.w=n,this.h=o,this.dw=i,this.dh=s}n.prototype={get:function(){return this.image.get()},constructor:n},e.exports=n},{}],3:[function(t,e,r){"use strict";var a=t("./CompoundedImage"),n=t("./report");function o(t){if(this.loaded=!1,this.x=0,this.y=0,"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement)t.src?(t.complete?this._onload():n('new v6.Image: you should manually set the "loaded" property if you are using "new v6.Image( image )"'),this.url=t.src):this.url="",this.image=t;else{if("string"!=typeof t)throw TypeError("new v6.Image: first argument must be a string or a HTMLImageElement object");this.image=document.createElement("img"),this.url=t,this.load()}}o.prototype={_onload:function(t){t&&(this.image.onload=null),this.w=this.dw=this.image.width,this.h=this.dh=this.image.height,this.loaded=!0},load:function(t){return this.loaded||(this.image.onload=this._onload.bind(this),this.image.src=this.url=this.url||t||""),this},get:function(){return this},constructor:o},o.stretch=function(t,e,r){var n=r/t.h*t.w;return n<e?r=e/t.w*t.h:e=n,new a(t.get(),t.x,t.y,t.w,t.h,e,r)},o.cut=function(t,e,r,n,o){var i=t.w/t.dw*n,s=t.h/t.dh*o;if((e+=t.x)+i>t.x+t.w)throw Error("v6.Image.cut: cannot cut the image because the new image X or W is out of bounds");if((r+=t.y)+s>t.y+t.h)throw Error("v6.Image.cut: cannot cut the image because the new image Y or H is out of bounds");return new a(t.get(),e,r,i,s,n,o)},e.exports=o},{"./CompoundedImage":2,"./report":90}],4:[function(t,e,r){"use strict";var o=t("peako/is-object-like"),n=t("peako/get-element-w"),i=t("peako/get-element-h"),s=t("peako/base/base-for-in"),a=t("./internal/_set-default-drawing-settings"),f=t("./internal/_copy-drawing-settings"),c=t("./internal/_get-gl-context-name"),u=t("./internal/_create-polygon"),h=t("./internal/_polygons"),l=t("./constants"),p=t("./options"),d=0;function m(t,e){var r={alpha:t.alpha};if(t.canvas?this.canvas=t.canvas:(this.canvas=document.createElement("canvas"),this.canvas.innerHTML="Unable to run the application."),t.append&&this.add(),e===l.MODE_2D)this.context=this.canvas.getContext("2d",r);else if(e===l.MODE_GL){if(!(e=c()))throw Error("Cannot get WebGL context. Try to use v6.constants.MODE_GL as the renderer mode or v6.Renderer2D instead of v6.RendererGL");this.context=this.canvas.getContext(e,r)}this.settings=t.settings,this.mode=e,this.index=d,this._stack=[],this._stackIndex=-1,this._vertices=[],a(this,this),"w"in t||"h"in t?this.resize(t.w,t.h):this.resizeTo(window),d+=1}m.prototype={add:function(t){return(t||document.body).appendChild(this.canvas),this},destroy:function(){return this.canvas.parentNode.removeChild(this.canvas),this},push:function(){return this._stack[++this._stackIndex]?f(this._stack[this._stackIndex],this):this._stack.push(a({},this)),this},pop:function(){return 0<=this._stackIndex?f(this,this._stack[this._stackIndex--]):a(this,this),this},resize:function(t,e){var r=this.canvas;r.style.width=t+"px",r.style.height=e+"px";var n=this.settings.scale;return r.width=this.w=Math.floor(t*n),r.height=this.h=Math.floor(e*n),this},resizeTo:function(t){return this.resize(n(t),i(t))},rescale:function(){return this.resizeTo(this.canvas)},background:function(t,e,r,n){return o(t)?this.backgroundImage(t):this.backgroundColor(t,e,r,n)},_polygon:function(t,e,r,n,o,i,s){var a=h[o],f=this.matrix;return a||(a=h[o]=u(o)),s&&(i*=Math.PI/180),f.save(),f.translate(t,e),f.rotate(i),this.vertices(a,.5*a.length,null,r,n),f.restore(),this},polygon:function(t,e,r,n,o){return n%1&&(n=.01*Math.floor(100*n)),void 0!==o?this._polygon(t,e,r,r,n,o,p.degrees):this._polygon(t,e,r,r,n,.5*-Math.PI),this},noStroke:function(){return this._doStroke=!1,this},noFill:function(){return this._doFill=!1,this},setTransformFromCamera:function(t){var e=t.position,r=t.zoom;return this.matrix.setTransform(r,0,0,r,e[0]*r,e[1]*r),this},lineWidth:function(t){return this._lineW=t,this},constructor:m},s({stroke:"Stroke",fill:"Fill"},function(t,e){var o="_"+e+"Color",i="_do"+t,s="_"+e;m.prototype[e]=function(t,e,r,n){return void 0===t?this[s]():"boolean"!=typeof t?("string"==typeof t||this[o].type!==this.settings.color.prototype.type?this[o]=new this.settings.color(t,e,r,n):this[o].set(t,e,r,n),this[i]=!0):this[i]=t,this}},void 0,!0,["stroke","fill"]),["setTransform","transform","translate","restore","scale","save"].forEach(function(t){m.prototype[t]=Function("a, b, c, d, e, f","return this.matrix."+t+"( a, b, c, d, e, f ), this;")}),e.exports=m},{"./constants":15,"./internal/_copy-drawing-settings":16,"./internal/_create-polygon":17,"./internal/_get-gl-context-name":20,"./internal/_polygons":21,"./internal/_set-default-drawing-settings":22,"./options":88,"peako/base/base-for-in":36,"peako/get-element-h":56,"peako/get-element-w":57,"peako/is-object-like":64}],5:[function(t,e,r){"use strict";var n,o=t("peako/defaults"),i=t("./constants"),s=t("./Renderer"),a=t("./options"),f=t("./internal/align"),c=t("./Image");function u(t){t=o(a,t),s.call(this,t,i.MODE_2D),this.smooth(this.settings.smooth),this.matrix=this.context,this._beginPath=!1}(u.prototype=Object.create(s.prototype)).smooth=(n=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","oImageSmoothingEnabled","imageSmoothingEnabled"],function(t){var e;if("boolean"!=typeof t)throw TypeError("First argument in smooth( bool ) must be a boolean");for(e=n.length-1;0<=e;--e)n[e]in this.context&&(this.context[n[e]]=t);return this.settings.smooth=t,this}),u.prototype.backgroundColor=function(t,e,r,n){var o=this.context;return o.save(),o.setTransform(this.settings.scale,0,0,this.settings.scale,0,0),o.fillStyle=new this.settings.color(t,e,r,n),o.fillRect(0,0,this.w,this.h),o.restore(),this},u.prototype.backgroundImage=function(t){var e=this._rectAlignX,r=this._rectAlignY;return this._rectAlignX=i.CENTER,this._rectAlignY=i.MIDDLE,this.image(c.stretch(t,this.w,this.h),.5*this.w,.5*this.h),this._rectAlignX=e,this._rectAlignY=r,this},u.prototype.image=function(t,e,r,n,o){return t.get().loaded&&(void 0===n&&(n=t.dw),void 0===o&&(o=t.dh),e=Math.floor(f(e,n,this._rectAlignX)),r=Math.floor(f(r,o,this._rectAlignY)),this.context.drawImage(t.get().image,t.x,t.y,t.w,t.h,e,r,n,o)),this},u.prototype.clear=function(t,e,r,n){return void 0===t?(t=e=0,r=this.w,n=this.h):(t=Math.floor(f(t,r,this._rectAlignX)),e=Math.floor(f(e,n,this._rectAlignY))),this.context.clearRect(t,e,r,n),this},u.prototype.rect=function(t,e,r,n){return t=Math.floor(f(t,r,this._rectAlignX)),e=Math.floor(f(e,n,this._rectAlignY)),this._beginPath?this.context.rect(t,e,r,n):(this.context.beginPath(),this.context.rect(t,e,r,n),this._doFill&&this._fill(),this._doStroke&&this._stroke()),this},u.prototype.arc=function(t,e,r){return this._beginPath?this.context.arc(t,e,r,0,2*Math.PI,!1):(this.context.beginPath(),this.context.arc(t,e,r,0,2*Math.PI,!1),this._doFill&&this._fill(),this._doStroke&&this._stroke(!0)),this},u.prototype.vertices=function(t,e,r,n,o){var i,s=this.context;if(e<2)return this;for(null==n&&(n=o=1),s.beginPath(),s.moveTo(t[0]*n,t[1]*o),e*=i=2;i<e;i+=2)s.lineTo(t[i]*n,t[i+1]*o);return this._doFill&&this._fill(),this._doStroke&&0<this._lineW&&this._stroke(!0),this},u.prototype._fill=function(){this.context.fillStyle=this._fillColor,this.context.fill()},u.prototype._stroke=function(t){var e=this.context;t&&e.closePath(),e.strokeStyle=this._strokeColor,(e.lineWidth=this._lineW)<=1&&e.stroke(),e.stroke()},u.prototype.constructor=u,e.exports=u},{"./Image":3,"./Renderer":4,"./constants":15,"./internal/align":23,"./options":88,"peako/defaults":53}],6:[function(t,e,r){"use strict";var n=t("peako/defaults"),o=t("./ShaderProgram"),i=t("./Transform"),s=t("./constants"),a=t("./Renderer"),f=t("./shaders"),c=t("./options"),u=t("./internal/align");function h(t){t=n(c,t),a.call(this,t,s.MODE_GL),this.matrix=new i,this.buffers={default:this.context.createBuffer(),rect:this.context.createBuffer()},this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffers.rect),this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),this.context.STATIC_DRAW),this.shaders={basic:new o(f.basicVert,f.basicFrag,this.context)},this.blending(t.blending)}(h.prototype=Object.create(a.prototype)).resize=function(t,e){return a.prototype.resize.call(this,t,e),this.context.viewport(0,0,this.w,this.h),this},h.prototype.blending=function(t){var e=this.context;return t?(e.enable(e.BLEND),e.disable(e.DEPTH_TEST),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.blendEquation(e.FUNC_ADD)):(e.disable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL)),this},h.prototype._clearColor=function(t,e,r,n){var o=this.context;o.clearColor(t,e,r,n),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)},h.prototype.backgroundColor=function(t,e,r,n){var o=new this.settings.color(t,e,r,n).rgba();return this._clearColor(o[0]/255,o[1]/255,o[2]/255,o[3]),this},h.prototype.clear=function(){return this._clearColor(0,0,0,0),this},h.prototype.vertices=function(t,e,r,n,o){var i=this.shaders.basic,s=this.context;return e<2||(t&&(null==r&&(r=s.STATIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,this.buffers.default),s.bufferData(s.ARRAY_BUFFER,t,r)),null!=n&&this.matrix.scale(n,o),i.use().uniform("utransform",this.matrix.matrix).uniform("ures",[this.w,this.h]).pointer("apos",2,s.FLOAT,!1,0,0),this._doFill&&(i.uniform("ucolor",this._fillColor.rgba()),s.drawArrays(s.TRIANGLE_FAN,0,e)),this._doStroke&&0<this._lineW&&(i.uniform("ucolor",this._strokeColor.rgba()),s.lineWidth(this._lineW),s.drawArrays(s.LINE_LOOP,0,e))),this},h.prototype.arc=function(t,e,r){return this._polygon(t,e,r,r,24,0)},h.prototype.rect=function(t,e,r,n){return t=u(t,r,this._rectAlignX),e=u(e,n,this._rectAlignY),this.matrix.save(),this.matrix.translate(t,e),this.matrix.scale(r,n),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffers.rect),this.vertices(null,4),this.matrix.restore(),this},h.prototype.constructor=h,e.exports=h},{"./Renderer":4,"./ShaderProgram":7,"./Transform":9,"./constants":15,"./internal/align":23,"./options":88,"./shaders":92,"peako/defaults":53}],7:[function(t,e,r){"use strict";var n=t("./internal/_create-program"),o=t("./internal/_create-shader");function i(t,e,r){"string"==typeof t&&(t=o(t,r.VERTEX_SHADER,r)),"string"==typeof e&&(e=o(e,r.FRAGMENT_SHADER,r)),this._program=n(t,e,r),this._gl=r,this.attributes=function(t,e){for(var r,n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES)-1,o={};0<=n;--n)(r=t.getActiveAttrib(e,n)).location=t.getAttribLocation(e,r.name),o[r.name]=r;return o}(r,this._program),this.uniforms=function(t,e){for(var r,n,o,i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS)-1,s={};0<=i;--i)o=t.getActiveUniform(e,i),r={location:t.getUniformLocation(e,o.name),size:o.size,type:o.type},1<o.size&&~(n=o.name.indexOf("[0]"))?r.name=o.name.slice(0,n):r.name=o.name,s[r.name]=r;return s}(r,this._program)}(i.prototype={use:function(){return this._gl.useProgram(this._program),this},pointer:function(t,e,r,n,o,i){var s=this.attributes[t].location,a=this._gl;return a.enableVertexAttribArray(s),a.vertexAttribPointer(s,e,r,n,o,i),this},constructor:i}).uniform=function(t,e){var r=this.uniforms[t],n=this._gl;switch(r.type){case n.BOOL:case n.INT:1<r.size?n.uniform1iv(r.location,e):n.uniform1i(r.location,e);break;case n.FLOAT:1<r.size?n.uniform1fv(r.location,e):n.uniform1f(r.location,e);break;case n.FLOAT_MAT2:n.uniformMatrix2fv(r.location,!1,e);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r.location,!1,e);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r.location,!1,e);break;case n.FLOAT_VEC2:1<r.size?n.uniform2fv(r.location,e):n.uniform2f(r.location,e[0],e[1]);break;case n.FLOAT_VEC3:1<r.size?n.uniform3fv(r.location,e):n.uniform3f(r.location,e[0],e[1],e[2]);break;case n.FLOAT_VEC4:1<r.size?n.uniform4fv(r.location,e):n.uniform4f(r.location,e[0],e[1],e[2],e[3]);break;default:throw TypeError("The uniform type is not supported")}return this},e.exports=i},{"./internal/_create-program":18,"./internal/_create-shader":19}],8:[function(t,e,r){"use strict";var n=t("light-emitter"),o=t("super-extend"),i=t("peako/timestamp"),s=t("peako/timer"),a=o(n,{constructor:function(){var n=this;this.__super__.call(this),this.lastRequestAnimationFrameID=0,this.lastRequestTime=0,this.skippedTime=0,this.totalTime=0,this.running=!1,this.tick=function t(e){var r;if(!n.running)return e||(n.lastRequestAnimationFrameID=s.request(t),n.lastRequestTime=i(),n.running=!0),this;for(e||(e=i()),r=Math.min(1,.001*(e-n.lastRequestTime)),n.skippedTime+=r,n.totalTime+=r;n.skippedTime>=n.step&&n.running;)n.skippedTime-=n.step,n.emit("update",n.step,e);return n.emit("render",r,e),n.lastRequestTime=e,n.lastRequestAnimationFrameID=s.request(t),this},this.setFPS(60)},setFPS:function(t){return this.step=1/t,this},clear:function(){return this.skippedTime=0,this},stop:function(){return this.running=!1,this}});e.exports=a},{"light-emitter":28,"peako/timer":82,"peako/timestamp":83,"super-extend":87}],9:[function(t,e,r){"use strict";var s=t("./mat3");function n(){this.matrix=s.identity(),this._index=-1,this._stack=[]}n.prototype={save:function(){++this._index<this._stack.length?s.copy(this._stack[this._index],this.matrix):this._stack.push(s.clone(this.matrix))},restore:function(){0<=this._index?s.copy(this.matrix,this._stack[this._index--]):s.setIdentity(this.matrix)},setTransform:function(t,e,r,n,o,i){s.setTransform(this.matrix,t,e,r,n,o,i)},translate:function(t,e){s.translate(this.matrix,t,e)},rotate:function(t){s.rotate(this.matrix,t)},scale:function(t,e){s.scale(this.matrix,t,e)},transform:function(t,e,r,n,o,i){s.transform(this.matrix,t,e,r,n,o,i)},constructor:n},e.exports=n},{"./mat3":24}],10:[function(t,e,r){"use strict";e.exports=i;var n=t("peako/clamp"),c=t("./RGBA"),o=t("./internal/parse");function i(t,e,r,n){this.set(t,e,r,n)}function u(t,e,r){return t<1/6?Math.round(255*(e+6*(r-e)*t)):t<.5?Math.round(255*r):t<2/3?Math.round(255*(e+(r-e)*(2/3-t)*6)):Math.round(255*e)}i.prototype={perceivedBrightness:function(){return this.rgba().perceivedBrightness()},luminance:function(){return this.rgba().luminance()},brightness:function(){return this.rgba().brightness()},toString:function(){return"hsla("+this[0]+", "+this[1]+"%, "+this[2]+"%, "+this[3]+")"},set:function(t,e,r,n){switch(!0){case"string"==typeof t:t=o(t);case"object"==typeof t&&null!=t:t.type!==this.type&&(t=t[this.type]()),this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3];break;default:switch(void 0){case t:n=1,r=e=t=0;break;case e:n=1,r=Math.floor(t),e=t=0;break;case r:n=e,r=Math.floor(t),e=t=0;break;case n:n=1;default:t=Math.floor(t),e=Math.floor(e),r=Math.floor(r)}this[0]=t,this[1]=e,this[2]=r,this[3]=n}return this},rgba:function(){var t,e=new c,r=this[0]%360/360,n=.01*this[1],o=.01*this[2],i=r+1/3,s=r,a=r-1/3,f=2*o-(t=o<.5?o*(1+n):o+n-o*n);return i<0&&++i,s<0&&++s,a<0&&++a,1<i&&--i,1<s&&--s,1<a&&--a,e[0]=u(i,f,t),e[1]=u(s,f,t),e[2]=u(a,f,t),e[3]=this[3],e},lerp:function(t,e,r,n){var o=new i;return o[0]=t,o[1]=e,o[2]=r,this.lerpColor(o,n)},lerpColor:function(t,e){return this.rgba().lerpColor(t,e).hsla()},shade:function(t){var e=new i;return e[0]=this[0],e[1]=this[1],e[2]=n(this[2]+t,0,100),e[3]=this[3],e},constructor:i,type:"hsla"}},{"./RGBA":11,"./internal/parse":14,"peako/clamp":45}],11:[function(t,e,r){"use strict";e.exports=s;var u=t("./HSLA"),i=t("./internal/parse");function s(t,e,r,n){this.set(t,e,r,n)}s.prototype={perceivedBrightness:function(){var t=this[0],e=this[1],r=this[2];return Math.sqrt(.299*t*t+.587*e*e+.114*r*r)},luminance:function(){return.2126*this[0]+.7152*this[1]+.0722*this[2]},brightness:function(){return.299*this[0]+.587*this[1]+.114*this[2]},toString:function(){return"rgba("+this[0]+", "+this[1]+", "+this[2]+", "+this[3]+")"},set:function(t,e,r,n){switch(!0){case"string"==typeof t:t=i(t);case"object"==typeof t&&null!=t:t.type!==this.type&&(t=t[this.type]()),this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3];break;default:switch(void 0){case t:n=1,r=e=t=0;break;case e:n=1,r=e=t=Math.floor(t);break;case r:n=e,r=e=t=Math.floor(t);break;case n:n=1;default:t=Math.floor(t),e=Math.floor(e),r=Math.floor(r)}this[0]=t,this[1]=e,this[2]=r,this[3]=n}return this},hsla:function(){var t,e,r=new u,n=this[0]/255,o=this[1]/255,i=this[2]/255,s=Math.max(n,o,i),a=Math.min(n,o,i),f=50*(s+a),c=s-a;if(c){switch(e=50<f?c/(2-s-a):c/(s+a),s){case n:t=o<i?1.0472*(o-i)/c+6.2832:1.0472*(o-i)/c;break;case o:t=1.0472*(i-n)/c+2.0944;break;default:t=1.0472*(n-o)/c+4.1888}t=Math.round(360*t/6.2832),e=Math.round(100*e)}else t=e=0;return r[0]=t,r[1]=e,r[2]=Math.round(f),r[3]=this[3],r},rgba:function(){return this},lerp:function t(e,r,n,o){return new s(e=t(this[0],e,o),r=t(this[0],r,o),n=t(this[0],n,o),this[3])},lerpColor:function(t,e){var r,n,o;return"object"!=typeof t&&(t=i(t)),"rgba"!==t.type&&(t=t.rgba()),r=t[0],n=t[1],o=t[2],this.lerp(r,n,o,e)},shade:function(t){return this.hsla().shade(t).rgba()},constructor:s,type:"rgba"}},{"./HSLA":10,"./internal/parse":14}],12:[function(t,e,r){"use strict";var o=t("./RGBA"),i=t("./internal/parse");e.exports=function(t,e,r,n){return"string"!=typeof t?new o(t,e,r,n):i(t)}},{"./RGBA":11,"./internal/parse":14}],13:[function(t,e,r){"use strict";e.exports={aliceblue:"f0f8ffff",antiquewhite:"faebd7ff",aqua:"00ffffff",aquamarine:"7fffd4ff",azure:"f0ffffff",beige:"f5f5dcff",bisque:"ffe4c4ff",black:"000000ff",blanchedalmond:"ffebcdff",blue:"0000ffff",blueviolet:"8a2be2ff",brown:"a52a2aff",burlywood:"deb887ff",cadetblue:"5f9ea0ff",chartreuse:"7fff00ff",chocolate:"d2691eff",coral:"ff7f50ff",cornflowerblue:"6495edff",cornsilk:"fff8dcff",crimson:"dc143cff",cyan:"00ffffff",darkblue:"00008bff",darkcyan:"008b8bff",darkgoldenrod:"b8860bff",darkgray:"a9a9a9ff",darkgreen:"006400ff",darkkhaki:"bdb76bff",darkmagenta:"8b008bff",darkolivegreen:"556b2fff",darkorange:"ff8c00ff",darkorchid:"9932ccff",darkred:"8b0000ff",darksalmon:"e9967aff",darkseagreen:"8fbc8fff",darkslateblue:"483d8bff",darkslategray:"2f4f4fff",darkturquoise:"00ced1ff",darkviolet:"9400d3ff",deeppink:"ff1493ff",deepskyblue:"00bfffff",dimgray:"696969ff",dodgerblue:"1e90ffff",feldspar:"d19275ff",firebrick:"b22222ff",floralwhite:"fffaf0ff",forestgreen:"228b22ff",fuchsia:"ff00ffff",gainsboro:"dcdcdcff",ghostwhite:"f8f8ffff",gold:"ffd700ff",goldenrod:"daa520ff",gray:"808080ff",green:"008000ff",greenyellow:"adff2fff",honeydew:"f0fff0ff",hotpink:"ff69b4ff",indianred:"cd5c5cff",indigo:"4b0082ff",ivory:"fffff0ff",khaki:"f0e68cff",lavender:"e6e6faff",lavenderblush:"fff0f5ff",lawngreen:"7cfc00ff",lemonchiffon:"fffacdff",lightblue:"add8e6ff",lightcoral:"f08080ff",lightcyan:"e0ffffff",lightgoldenrodyellow:"fafad2ff",lightgrey:"d3d3d3ff",lightgreen:"90ee90ff",lightpink:"ffb6c1ff",lightsalmon:"ffa07aff",lightseagreen:"20b2aaff",lightskyblue:"87cefaff",lightslateblue:"8470ffff",lightslategray:"778899ff",lightsteelblue:"b0c4deff",lightyellow:"ffffe0ff",lime:"00ff00ff",limegreen:"32cd32ff",linen:"faf0e6ff",magenta:"ff00ffff",maroon:"800000ff",mediumaquamarine:"66cdaaff",mediumblue:"0000cdff",mediumorchid:"ba55d3ff",mediumpurple:"9370d8ff",mediumseagreen:"3cb371ff",mediumslateblue:"7b68eeff",mediumspringgreen:"00fa9aff",mediumturquoise:"48d1ccff",mediumvioletred:"c71585ff",midnightblue:"191970ff",mintcream:"f5fffaff",mistyrose:"ffe4e1ff",moccasin:"ffe4b5ff",navajowhite:"ffdeadff",navy:"000080ff",oldlace:"fdf5e6ff",olive:"808000ff",olivedrab:"6b8e23ff",orange:"ffa500ff",orangered:"ff4500ff",orchid:"da70d6ff",palegoldenrod:"eee8aaff",palegreen:"98fb98ff",paleturquoise:"afeeeeff",palevioletred:"d87093ff",papayawhip:"ffefd5ff",peachpuff:"ffdab9ff",peru:"cd853fff",pink:"ffc0cbff",plum:"dda0ddff",powderblue:"b0e0e6ff",purple:"800080ff",red:"ff0000ff",rosybrown:"bc8f8fff",royalblue:"4169e1ff",saddlebrown:"8b4513ff",salmon:"fa8072ff",sandybrown:"f4a460ff",seagreen:"2e8b57ff",seashell:"fff5eeff",sienna:"a0522dff",silver:"c0c0c0ff",skyblue:"87ceebff",slateblue:"6a5acdff",slategray:"708090ff",snow:"fffafaff",springgreen:"00ff7fff",steelblue:"4682b4ff",tan:"d2b48cff",teal:"008080ff",thistle:"d8bfd8ff",tomato:"ff6347ff",turquoise:"40e0d0ff",violet:"ee82eeff",violetred:"d02090ff",wheat:"f5deb3ff",white:"ffffffff",whitesmoke:"f5f5f5ff",yellow:"ffff00ff",yellowgreen:"9acd32ff",transparent:"00000000"}},{}],14:[function(t,e,r){"use strict";e.exports=function(t){var e=s[t]||s[t=t.trim().toLowerCase()];if(!e){if(e=i[t])e=new l(u(e),n);else if(e=f.hex.exec(t))e=new l(u(c(e)),n);else if(e=f.rgb.exec(t))e=new l(h(e),n);else if(e=f.hsl.exec(t))e=new l(h(e),o);else{if(!(e=f.hex3.exec(t)))throw SyntaxError(t+" is not a valid syntax");e=new l(u(c(e,!0)),n)}s[t]=e}return new e.color(e[0],e[1],e[2],e[3])};var n=t("../RGBA"),o=t("../HSLA"),i=t("./colors"),s=Object.create(null),a=[0,0,0,0],f={hex3:/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/,hex:/^#([0-9a-f]{6})([0-9a-f]{2})?$/,rgb:/^rgb\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*\)$|^\s*rgba\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\s*\)$/,hsl:/^hsl\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\u0025\s*,\s*(\d+|\d*\.\d+)\u0025\s*\)$|^\s*hsla\s*\(\s*(\d+|\d*\.\d+)\s*,\s*(\d+|\d*\.\d+)\u0025\s*,\s*(\d+|\d*\.\d+)\u0025\s*,\s*(\d+|\d*\.\d+)\s*\)$/};function c(t,e){var r,n,o,i;return e?(r=t[1])+r+(n=t[2])+n+(o=t[3])+o+(i=t[4]||"f")+i:t[1]+(t[2]||"ff")}function u(t){return 0==t?a:[(t=parseInt(t,16))>>24&255,t>>16&255,t>>8&255,(255&t)/255]}function h(t){return t[7]?[+t[4],+t[5],+t[6],+t[7]]:[+t[1],+t[2],+t[3]]}function l(t,e){this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.color=e}},{"../HSLA":10,"../RGBA":11,"./colors":13}],15:[function(t,e,r){"use strict";e.exports={MODE_AUTO:1,MODE_GL:2,MODE_2D:3,SELF_CONTEXT:6,BOTTOM:7,RIGHT:8,LEFT:9,TOP:10,CENTER:11,MIDDLE:12}},{}],16:[function(t,e,r){"use strict";e.exports=function(t,e,r){return r&&(t._fillColor[0]=e._fillColor[0],t._fillColor[1]=e._fillColor[1],t._fillColor[2]=e._fillColor[2],t._fillColor[3]=e._fillColor[3],t._font.style=e._font.style,t._font.variant=e._font.variant,t._font.weight=e._font.weight,t._font.size=e._font.size,t._font.family=e._font.family,t._strokeColor[0]=e._strokeColor[0],t._strokeColor[1]=e._strokeColor[1],t._strokeColor[2]=e._strokeColor[2],t._strokeColor[3]=e._strokeColor[3]),t._rectAlignX=e._rectAlignX,t._rectAlignY=e._rectAlignY,t._textAlignX=e._textAlignX,t._textAlignY=e._textAlignY,t._doStroke=e._doStroke,t._doFill=e._doFill,t._lineH=e._lineH,t._lineW=e._lineW,t}},{}],17:[function(t,e,r){"use strict";e.exports=function(t){for(var e=Math.floor(t),r=new Float32Array(2*e+2),n=2*Math.PI/t;0<=e;--e)r[2*e]=Math.cos(n*e),r[1+2*e]=Math.sin(n*e);return r}},{}],18:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n=r.createProgram();if(r.attachShader(n,t),r.attachShader(n,e),r.linkProgram(n),!r.getProgramParameter(n,r.LINK_STATUS))throw Error("Unable to initialize the shader program: "+r.getProgramInfoLog(n));if(r.validateProgram(n),!r.getProgramParameter(n,r.VALIDATE_STATUS))throw Error("Unable to validate the shader program: "+r.getProgramInfoLog(n));return n}},{}],19:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw SyntaxError("An error occurred compiling the shaders: "+r.getShaderInfoLog(n));return n}},{}],20:[function(t,e,r){"use strict";var n=t("peako/once");e.exports=n(function(){var t,e,r=document.createElement("canvas");if("function"==typeof r.getContext)for(e=(t=["webkit-3d","moz-webgl","experimental-webgl","webgl"]).length-1;0<=e;--e)if(r.getContext(t[e]))return t[e]})},{"peako/once":77}],21:[function(t,e,r){},{}],22:[function(t,e,r){"use strict";var n=t("./_copy-drawing-settings"),o=t("../constants"),i={_rectAlignX:o.LEFT,_rectAlignY:o.TOP,_textAlignX:o.LEFT,_textAlineY:o.TOP,_doStroke:!0,_doFill:!0,_lineH:14,_lineW:2};e.exports=function(t,e){return n(t,i),t._strokeColor=new e.settings.color,t._fillColor=new e.settings.color,t._font=null,t}},{"../constants":15,"./_copy-drawing-settings":16}],23:[function(t,e,r){"use strict";var n=t("../constants");e.exports=function(t,e,r){switch(r){case n.LEFT:case n.TOP:return t;case n.CENTER:case n.MIDDLE:return t-.5*e;case n.RIGHT:case n.BOTTOM:return t-e}return 0}},{"../constants":15}],24:[function(t,e,r){"use strict";r.identity=function(){return[1,0,0,0,1,0,0,0,1]},r.setIdentity=function(t){t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},r.copy=function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]},r.clone=function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},r.translate=function(t,e,r){t[6]=e*t[0]+r*t[3]+t[6],t[7]=e*t[1]+r*t[4]+t[7],t[8]=e*t[2]+r*t[5]+t[8]},r.rotate=function(t,e){var r=t[0],n=t[1],o=t[2],i=t[3],s=t[4],a=t[5],f=Math.cos(e),c=Math.sin(e);t[0]=f*r+c*i,t[1]=f*n+c*s,t[2]=f*o+c*a,t[3]=f*i-c*r,t[4]=f*s-c*n,t[5]=f*a-c*o},r.scale=function(t,e,r){t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=r,t[4]*=r,t[5]*=r},r.transform=function(t,e,r,n,o,i,s){t[0]*=e,t[1]*=n,t[2]*=i,t[3]*=r,t[4]*=o,t[5]*=s,t[6]=0,t[7]=0},r.setTransform=function(t,e,r,n,o,i,s){t[0]=e,t[1]=r,t[3]=n,t[4]=o,t[6]=i,t[7]=s}},{}],25:[function(t,e,r){"use strict";var i=t("../settings");function n(t,e){this.set(t,e)}n.prototype={set:function(t,e){return this.x=t||0,this.y=e||0,this},setVector:function(t){return this.set(t.x,t.y)},lerp:function(t,e,r){return this.x+=(t-this.x)*r||0,this.y+=(e-this.y)*r||0,this},lerpVector:function(t,e){var r=t.x||0,n=t.y||0;return this.lerp(r,n,e)},add:function(t,e){return this.x+=t||0,this.y+=e||0,this},addVector:function(t){return this.add(t.x,t.y)},sub:function(t,e){return this.x-=t||0,this.y-=e||0,this},subVector:function(t){return this.sub(t.x,t.y)},mul:function(t){return this.x*=t||0,this.y*=t||0,this},mulVector:function(t){return this.x*=t.x||0,this.y*=t.y||0,this},div:function(t){return this.x/=t||0,this.y/=t||0,this},divVector:function(t){return this.x/=t.x||0,this.y/=t.y||0,this},angle:function(){return i.degrees?180*Math.atan2(this.y,this.x)/Math.PI:Math.atan2(this.y,this.x)},mag:function(){return Math.sqrt(this.magSquare())},magSquare:function(){return this.x*this.x+this.y*this.y},setMag:function(t){return this.normalize().mul(t)},normalize:function(){var t=this.mag();return t&&1!==t&&this.div(t),this},dot:function(t,e){return this.x*(t||0)+this.y*(e||0)},dotVector:function(t){return this.x*(t.x||0)+this.y*(t.y||0)},clone:function(){return new n(this.x,this.y)},dist:function t(e){return t(this.x,this.y,e.x,e.y)},limit:function(t){var e=this.magSquare();return t*t<e&&this.div(Math.sqrt(e)).mul(t),this},cross:function(t){return n.cross(this,t)},toString:function(){return"vec2("+this.x.toFixed(2)+", "+this.y.toFixed(2)+")"},rotate:function(t){var e,r,n=this.x,o=this.y;return i.degrees&&(t*=Math.PI/180),e=Math.cos(t),r=Math.sin(t),this.x=n*e-o*r,this.y=n*r+o*e,this},setAngle:function(t){var e=this.mag();return i.degrees&&(t*=Math.PI/180),this.x=e*Math.cos(t),this.y=e*Math.sin(t),this},constructor:n},["normalize","setMag","rotate","limit","lerp","mul","div","add","sub","set"].forEach(function(t){n[t]=Function("vector, x, y, z, value","return vector.copy()."+t+"( x, y, z, value );")}),n.random=function(){var t;return t=i.degrees?360:2*Math.PI,n.fromAngle(Math.random()*t)},n.fromAngle=function(t){return i.degrees&&(t*=Math.PI/180),new n(Math.cos(t),Math.sin(t))},n.cross=function(t,e){return t.x*e.y-t.y*e.x},e.exports=n},{"../settings":91}],26:[function(t,e,r){"use strict";var n=t("./Vector2D"),o=t("../settings");function i(t,e,r){this.set(t,e,r)}i.prototype={set:function(t,e,r){return this.x=t||0,this.y=e||0,this.z=r||0,this},setVector:function(t){return this.set(t.x,t.y,t.z)},lerp:function(t,e,r,n){return this.x+=(t-this.x)*n||0,this.y+=(e-this.y)*n||0,this.z+=(r-this.z)*n||0,this},lerpVector:function(t,e){var r=t.x||0,n=t.y||0,o=t.z||0;return this.lerp(r,n,o,e)},add:function(t,e,r){return this.x+=t||0,this.y+=e||0,this.z+=r||0,this},addVector:function(t){return this.add(t.x,t.y,t.z)},sub:function(t,e,r){return this.x-=t||0,this.y-=e||0,this.z-=r||0,this},subVector:function(t){return this.sub(t.x,t.y,t.z)},mul:function(t){return this.x*=t||0,this.y*=t||0,this.z*=t||0,this},mulVector:function(t){return this.x*=t.x||0,this.y*=t.y||0,this.z*=t.z||0,this},div:function(t){return this.x/=t||0,this.y/=t||0,this.z/=t||0,this},divVector:function(t){return this.x/=t.x||0,this.y/=t.y||0,this.z/=t.z||0,this},magSquare:function(){return this.x*this.x+this.y*this.y+this.z*this.z},dot:function(t,e,r){return this.x*t+this.y*e+this.z*r},dotVector:function(t){var e=t.x||0,r=t.y||0,n=t.z||0;return this.dot(e,r,n)},copy:function(){return new i(this.x,this.y,this.z)},dist:function(t){var e=t.x-this.x,r=t.y-this.y,n=t.z-this.z;return Math.sqrt(e*e+r*r+n*n)},toString:function(){return"vec3("+this.x.toFixed(2)+", "+this.y.toFixed(2)+", "+this.z.toFixed(2)+")"},normalize:n.prototype.normalize,setAngle:n.prototype.setAngle,setMag:n.prototype.setMag,rotate:n.prototype.rotate,angle:n.prototype.angle,limit:n.prototype.limit,mag:n.prototype.mag,constructor:i},["normalize","setMag","rotate","limit","lerp","mul","div","add","sub","set"].forEach(function(t){i[t]=n[t]}),i.random=function(){var t=Math.random()*Math.PI*2,e=2*Math.random()-1,r=Math.root(1-e*e);return new i(r*Math.cos(t),r*Math.sin(t),e)},i.fromAngle=function(t){return o.degrees&&(t*=Math.PI/180),new i(Math.cos(t),Math.sin(t))},e.exports=i},{"../settings":91,"./Vector2D":25}],27:[function(t,e,r){"use strict";var n=Object.prototype.toString;e.exports=function(t,e,r){return TypeError("`"+t+"` got unexpected `"+e+"` argument ("+typeof r+", "+n.call(r)+") with value: "+r)}},{}],28:[function(t,e,r){"use strict";function n(){}function o(t,e,r,n){var o={listener:r,active:!0,type:e,once:n};t._events||(t._events=Object.create(null)),t._events[e]||(t._events[e]=[]),t._events[e].push(o)}function i(t,e){return t._events&&t._events[e]}n.prototype={emit:function(t){var e,r,n,o=i(this,t);if(!o)return this;for(1<arguments.length&&(e=[].slice.call(arguments,1)),r=0,n=o.length;r<n;++r)o[r].active&&(o[r].once&&(o[r].active=!1),e?o[r].listener.apply(this,e):o[r].listener.call(this));return this},off:function(t,e){var r,n;if(t){if(r=i(this,t))if(e)for(n=r.length-1;0<=n;--n)r[n].listener===e&&r[n].active&&(r[n].active=!1);else r.length=0}else this._events=null;return this},on:function(t,e){return o(this,t,e),this},once:function(t,e){return o(this,t,e,!0),this},constructor:n},e.exports=n},{}],29:[function(t,e,r){"use strict";e.exports=function(t,e){return Error("`"+t+"` "+e)}},{}],30:[function(t,e,r){"use strict";var n=Object.prototype.toString;e.exports=function(t,e){throw Error('"'+n.call(t)+'" is not '+e)}},{}],31:[function(t,e,r){"use strict";var n,o=t("./type"),i="undefined";e.exports=function(t){return t===n?i:i=o(n=t)}},{"./type":86}],32:[function(t,e,r){"use strict";e.exports=function(t){return t.replace(/\\(\\)?/g,"$1")}},{}],33:[function(t,e,r){"use strict";var a=t("../isset"),f=Object.prototype.__defineGetter__,c=Object.prototype.__defineSetter__;e.exports=function(t,e,r){var n,o,i=a("get",r),s=a("set",r);if(i||s){if(i&&"function"!=typeof(n=r.get))throw TypeError("Getter must be a function: "+n);if(s&&"function"!=typeof(o=r.set))throw TypeError("Setter must be a function: "+o);if(a("writable",r))throw TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");if(!f)throw Error("Cannot define getter or setter");i&&f.call(t,e,n),s&&c.call(t,e,o)}else a("value",r)?t[e]=r.value:a(e,t)||(t[e]=void 0);return t}},{"../isset":70}],34:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n=[];for(t.lastIndex=0;r=t.exec(e);)n.push(r);return n}},{}],35:[function(t,e,r){"use strict";var a=t("../call-iteratee"),f=t("../isset");e.exports=function(t,e,r,n){var o,i,s;for(o=-1,i=t.length-1;0<=i&&(s=n?i:++o,!f(s,t)||!1!==a(e,r,t[s],s,t));--i);return t}},{"../call-iteratee":43,"../isset":70}],36:[function(t,e,r){"use strict";var f=t("../call-iteratee");e.exports=function(t,e,r,n,o){var i,s,a;for(i=-1,s=o.length-1;0<=s&&(a=n?o[s]:o[++i],!1!==f(e,r,t[a],a,t));--s);return t}},{"../call-iteratee":43}],37:[function(t,e,r){"use strict";var s=t("../isset");e.exports=function(t,e,r){for(var n,o=e.length-r,i=0;i<o;++i){if(n=e[i],!s(n,t))return;t=t[n]}return t}},{"../isset":70}],38:[function(t,e,r){"use strict";var c=t("./base-to-index"),u=Array.prototype.indexOf,h=Array.prototype.lastIndexOf;e.exports=function(t,e,r,n){var o,i,s,a,f;if(e==e&&(a=n?h:u))return a.call(t,e,r);if(!(o=t.length))return-1;for(s=o-1,void 0!==r?(r=c(r,o),i=(s=n?Math.min(s,r):Math.max(0,r))-1):i=-1;0<=s;--s)if((f=t[a=n?s:++i])===e||e!=e&&f!=f)return a;return-1}},{"./base-to-index":41}],39:[function(t,e,r){"use strict";var o,n,i=t("./base-index-of"),s=t("../support/support-keys"),a=Object.prototype.hasOwnProperty;"not-supported"===s&&(o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=function(t,e){var r,n;for(r=o.length-1;0<=r;--r)i(t,n=o[r])<0&&a.call(e,n)&&t.push(n);return t}),e.exports=function(t){var e,r=[];for(e in t)a.call(t,e)&&r.push(e);return"not-supported"!==s?r:n(r,t)}},{"../support/support-keys":81,"./base-index-of":38}],40:[function(t,e,r){"use strict";var n=t("./base-get");e.exports=function(t,e){if(null!=t)return 1<e.length?n(t,e,0):t[e[0]]}},{"./base-get":37}],41:[function(t,e,r){"use strict";e.exports=function(t,e){return e&&t?(t<0&&(t+=e),t||0):0}},{}],42:[function(t,e,r){"use strict";var n=t("./_throw-argument-exception"),o=t("./default-to");e.exports=function(t,e){var r;return"function"!=typeof e&&n(e,"a function"),t=o(t,1),function(){return 0<=--t&&(r=e.apply(this,arguments)),r}}},{"./_throw-argument-exception":30,"./default-to":52}],43:[function(t,e,r){"use strict";e.exports=function(t,e,r,n,o){return void 0===e?t(r,n,o):t.call(e,r,n,o)}},{}],44:[function(t,e,r){"use strict";var o=t("./base/base-exec"),i=t("./_unescape"),s=t("./is-key"),a=t("./to-key"),f=t("./_type"),c=/(^|\.)\s*([_a-z]\w*)\s*|\[\s*((?:-)?(?:\d+|\d*\.\d+)|("|')(([^\\]\\(\\\\)*|[^\4])*)\4)\s*\]/gi;e.exports=function(t){var e,r,n;if(s(t))return[a(t)];if("array"===f(t))for(e=Array(r=t.length),n=r-1;0<=n;--n)e[n]=a(t[n]);else e=function(t){for(var e,r=o(c,t),n=r.length-1;0<=n;--n)(e=r[n])[2]?r[n]=e[2]:null!=e[5]?r[n]=i(e[5]):r[n]=e[3];return r}(""+t);return e}},{"./_type":31,"./_unescape":32,"./base/base-exec":34,"./is-key":62,"./to-key":84}],45:[function(t,e,r){"use strict";e.exports=function(t,e,r){return r<=t?r:t<=e?e:t}},{}],46:[function(t,e,r){"use strict";var i=t("./create"),s=t("./get-prototype-of"),a=t("./to-object"),f=t("./each"),c=t("./is-object-like");e.exports=function n(o,t,e){var r;return(void 0===t||e)&&(t=o,o=!0),r=i(s(t=a(t))),f(t,function(t,e,r){t===r?this[e]=this:o&&c(t)?this[e]=n(o,t):this[e]=t},r),r}},{"./create":48,"./each":55,"./get-prototype-of":58,"./is-object-like":64,"./to-object":85}],47:[function(t,e,r){"use strict";e.exports={ERR:{INVALID_ARGS:"Invalid arguments",FUNCTION_EXPECTED:"Expected a function",STRING_EXPECTED:"Expected a string",UNDEFINED_OR_NULL:"Cannot convert undefined or null to object",REDUCE_OF_EMPTY_ARRAY:"Reduce of empty array with no initial value",NO_PATH:"No path was given"},MAX_ARRAY_LENGTH:4294967295,MAX_SAFE_INT:9007199254740991,MIN_SAFE_INT:-9007199254740991,DEEP:1,DEEP_KEEP_FN:2}},{}],48:[function(t,e,r){"use strict";var n=t("./define-properties"),o=t("./set-prototype-of"),i=t("./is-primitive");function s(){}e.exports=Object.create||function(t,e){var r;if(null!==t&&i(t))throw TypeError("Object prototype may only be an Object or null: "+t);return s.prototype=t,r=new s,(s.prototype=null)===t&&o(r,null),2<=arguments.length&&n(r,e),r}},{"./define-properties":54,"./is-primitive":67,"./set-prototype-of":79}],49:[function(t,e,r){"use strict";var o=t("../base/base-for-each"),i=t("../base/base-for-in"),s=t("../is-array-like"),a=t("../to-object"),f=t("../iteratee").iteratee,c=t("../keys");e.exports=function(n){return function(t,e,r){return t=a(t),e=f(e),s(t)?o(t,e,r,n):i(t,e,r,n,c(t))}}},{"../base/base-for-each":35,"../base/base-for-in":36,"../is-array-like":60,"../iteratee":71,"../keys":72,"../to-object":85}],50:[function(t,e,r){"use strict";e.exports=function(o){return function(t){var e,r,n;return t.window===t?e=Math.max(t["inner"+o]||0,t.document.documentElement["client"+o]):9===t.nodeType?(r=t.body,n=t.documentElement,e=Math.max(r["scroll"+o],n["scroll"+o],r["offset"+o],n["offset"+o],r["client"+o],n["client"+o])):e=t["client"+o],e}}},{}],51:[function(t,e,r){"use strict";var o=t("../cast-path"),i=t("../noop");e.exports=function(n,t){return function(e){var r;return(e=o(e)).length?(t&&(r=Array.prototype.slice.call(arguments,1)),function(t){return n(t,e,r)}):i}}},{"../cast-path":44,"../noop":75}],52:[function(t,e,r){"use strict";e.exports=function(t,e){return null!=t&&t==t?t:e}},{}],53:[function(t,e,r){"use strict";var n=t("./mixin"),o=t("./clone");e.exports=function(t,e){return null==e?o(!0,t):n(!0,o(!0,t),e)}},{"./clone":46,"./mixin":74}],54:[function(t,e,r){"use strict";var n,o,i,s,a=t("./support/support-define-property");"full"!==a?(i=t("./is-primitive"),s=t("./each"),o=t("./base/base-define-property"),n=function(t,e){if("not-supported"!==a)try{return Object.defineProperties(t,e)}catch(t){}if(i(t))throw TypeError("defineProperties called on non-object");if(i(e))throw TypeError("Property description must be an object: "+e);return s(e,function(t,e){if(i(t))throw TypeError("Property description must be an object: "+t);o(this,e,t)},t),t}):n=Object.defineProperties,e.exports=n},{"./base/base-define-property":33,"./each":55,"./is-primitive":67,"./support/support-define-property":80}],55:[function(t,e,r){"use strict";e.exports=t("./create/create-each")()},{"./create/create-each":49}],56:[function(t,e,r){"use strict";e.exports=t("./create/create-get-element-dimension")("Height")},{"./create/create-get-element-dimension":50}],57:[function(t,e,r){"use strict";e.exports=t("./create/create-get-element-dimension")("Width")},{"./create/create-get-element-dimension":50}],58:[function(t,e,r){"use strict";var n=t("./constants").ERR,o=Object.prototype.toString;e.exports=Object.getPrototypeOf||function(t){var e;if(null==t)throw TypeError(n.UNDEFINED_OR_NULL);return void 0!==(e=t.__proto__)?e:"[object Function]"===o.call(t.constructor)?t.constructor.prototype:t}},{"./constants":47}],59:[function(t,e,r){"use strict";var n=t("./is-object-like"),o=t("./is-length"),i=t("./is-window-like");e.exports=function(t){return n(t)&&o(t.length)&&!i(t)}},{"./is-length":63,"./is-object-like":64,"./is-window-like":69}],60:[function(t,e,r){"use strict";var n=t("./is-length"),o=t("./is-window-like");e.exports=function(t){return null!=t&&("object"==typeof t?n(t.length)&&!o(t):"string"==typeof t)}},{"./is-length":63,"./is-window-like":69}],61:[function(t,e,r){"use strict";var n=t("./is-object-like"),o=t("./is-length"),i={}.toString;e.exports=Array.isArray||function(t){return n(t)&&o(t.length)&&"[object Array]"===i.call(t)}},{"./is-length":63,"./is-object-like":64}],62:[function(t,e,r){"use strict";var n=t("./_type"),o=/(^|[^\\])(\\\\)*(\.|\[)/;e.exports=function(t){var e;return!t||"array"!==n(t)&&("number"==(e=typeof t)||"boolean"===e||"symbol"===n(t)||!o.test(t))}},{"./_type":31}],63:[function(t,e,r){"use strict";var n=t("./constants").MAX_ARRAY_LENGTH;e.exports=function(t){return"number"==typeof t&&0<=t&&t<=n&&t%1==0}},{"./constants":47}],64:[function(t,e,r){"use strict";e.exports=function(t){return!!t&&"object"==typeof t}},{}],65:[function(t,e,r){"use strict";var n=t("./is-object-like"),o={}.toString;e.exports=function(t){return n(t)&&"[object Object]"===o.call(t)}},{"./is-object-like":64}],66:[function(t,e,r){"use strict";var n=t("./get-prototype-of"),o=t("./is-object"),i=Object.prototype.hasOwnProperty,s=Function.prototype.toString,a=s.call(Object);e.exports=function(t){var e,r;return!!o(t)&&(null===(e=n(t))||!!i.call(e,"constructor")&&("function"==typeof(r=e.constructor)&&s.call(r)===a))}},{"./get-prototype-of":58,"./is-object":65}],67:[function(t,e,r){"use strict";e.exports=function(t){return!t||"object"!=typeof t&&"function"!=typeof t}},{}],68:[function(t,e,r){"use strict";var n=t("./type");e.exports=function(t){return"symbol"===n(t)}},{"./type":86}],69:[function(t,e,r){"use strict";var n=t("./is-object-like");e.exports=function(t){return n(t)&&t.window===t}},{"./is-object-like":64}],70:[function(t,e,r){"use strict";e.exports=function(t,e){return null!=e&&(void 0!==e[t]||t in e)}},{}],71:[function(t,e,r){"use strict";var n=t("./is-array-like-object"),o=t("./matches-property"),i=t("./property");r.iteratee=function(t){return"function"==typeof t?t:n(t)?o(t):i(t)}},{"./is-array-like-object":59,"./matches-property":73,"./property":78}],72:[function(t,e,r){"use strict";var n=t("./base/base-keys"),o=t("./to-object"),i=t("./support/support-keys");e.exports="es2015"!==i?function(t){return("es5"===i?Object.keys:n)(o(t))}:Object.keys},{"./base/base-keys":39,"./support/support-keys":81,"./to-object":85}],73:[function(t,e,r){"use strict";var n=t("./cast-path"),o=t("./base/base-get"),i=t("./constants").ERR;e.exports=function(t){var e=n(t[0]),r=t[1];if(!e.length)throw Error(i.NO_PATH);return function(t){return null!=t&&(1<e.length?o(t,e,0)===r:t[e[0]]===r)}}},{"./base/base-get":37,"./cast-path":44,"./constants":47}],74:[function(t,e,r){"use strict";var p=t("./is-plain-object"),d=t("./to-object"),m=t("./is-array"),g=t("./keys");e.exports=function t(e,r){var n,o,i,s,a,f,c,u,h=arguments.length,l=2;for("boolean"!=typeof e&&(r=e,e=!0,l=1),l===h&&(r=this,--l),r=d(r);l<h;++l)for(i=0,s=(n=g(o=d(arguments[l]))).length;i<s;++i)a=o[f=n[i]],e&&a!==o&&(p(a)||(c=m(a)))?(u=r[f],c?(m(u)||(u=[]),c=!1):p(u)||(u={}),r[f]=t(!0,u,a)):r[f]=a;return r}},{"./is-array":61,"./is-plain-object":66,"./keys":72,"./to-object":85}],75:[function(t,e,r){"use strict";e.exports=function(){}},{}],76:[function(t,e,r){"use strict";e.exports=Date.now||function(){return(new Date).getTime()}},{}],77:[function(t,e,r){"use strict";var n=t("./before");e.exports=function(t){return n(1,t)}},{"./before":42}],78:[function(t,e,r){"use strict";e.exports=t("./create/create-property")(t("./base/base-property"))},{"./base/base-property":40,"./create/create-property":51}],79:[function(t,e,r){"use strict";var n=t("./is-primitive"),o=t("./constants").ERR;e.exports=Object.setPrototypeOf||function(t,e){if(null==t)throw TypeError(o.UNDEFINED_OR_NULL);if(null!==e&&n(e))throw TypeError("Object prototype may only be an Object or null: "+e);return"__proto__"in t&&(t.__proto__=e),t}},{"./constants":47,"./is-primitive":67}],80:[function(t,e,r){"use strict";var n;function o(t){try{if(""in Object.defineProperty(t,"",{}))return!0}catch(t){}return!1}n=o({})?"full":"undefined"!=typeof document&&o(document.createElement("span"))?"dom":"not-supported",e.exports=n},{}],81:[function(t,e,r){"use strict";var n;if(Object.keys)try{n=Object.keys("")}catch(t){n="es5"}else n={toString:null}.propertyIsEnumerable("toString")?"not-supported":"has-a-bug";e.exports=n},{}],82:[function(t,e,r){"use strict";var n,o,i=t("./timestamp");if("undefined"!=typeof window&&(o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame),!n||!o||"undefined"!=typeof navigator&&/iP(ad|hone|od).*OS\s6/.test(navigator.userAgent)){var s=0;r.request=function(t){var e=i(),r=Math.max(s+1e3/60,e);return setTimeout(function(){s=r,t(e)},r-e)},r.cancel=clearTimeout}else r.request=function(t){return n(t)},r.cancel=function(t){return o(t)}},{"./timestamp":83}],83:[function(t,e,r){"use strict";var n,o,i=t("./now");"undefined"!=typeof performance&&performance.now?n=performance.now:(o=i(),n=function(){return i()-o}),e.exports=n},{"./now":76}],84:[function(t,e,r){"use strict";var n=t("./_unescape"),o=t("./is-symbol");e.exports=function(t){var e;return"string"==typeof t?n(t):o(t)?t:"0"===(e=""+t)&&1/t==-1/0?"-0":n(e)}},{"./_unescape":32,"./is-symbol":68}],85:[function(t,e,r){"use strict";var n=t("./constants").ERR;e.exports=function(t){if(null==t)throw TypeError(n.UNDEFINED_OR_NULL);return Object(t)}},{"./constants":47}],86:[function(t,e,r){"use strict";var n=t("./create"),o={}.toString,i=n(null);e.exports=function(t){var e,r;return null===t?"null":"object"!==(e=typeof t)&&"function"!==e?e:(e=i[r=o.call(t)])||(i[r]=r.slice(8,-1).toLowerCase())}},{"./create":48}],87:[function(t,e,r){"use strict";var i=t("argument-exception"),s=t("logical-error"),a=Object.prototype.hasOwnProperty;e.exports=function(t,e){var r,n,o;if("function"!=typeof t)throw i("extend(__super__: function, __proto__: object): function","__super__",t);if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw i("extend(__super__: function, __proto__: object): function","__proto__",e);if(!a.call(e,"constructor"))throw s("extend(__super__: function, __proto__: object): function","cannot find `constructor` function in `__proto__`");if("function"!=typeof e.constructor)throw s("extend(__super__: function, __proto__: object): function","`__proto__.constructor` is not a function");if("object"!=typeof t.prototype||null===t.prototype)throw s("extend(__super__: function, __proto__: object): function","`__super__.prototype` must be an object");for(e.constructor.prototype=Object.create(t.prototype),e.constructor.prototype.__super__=t,n=0,o=(r=Object.keys(e)).length;n<o;++n)e.constructor.prototype[r[n]]=e[r[n]];return e.constructor}},{"argument-exception":27,"logical-error":29}],88:[function(t,e,r){"use strict";e.exports={settings:{color:t("./colors/RGBA"),smooth:!1,scale:1},antialias:!0,blending:!0,degrees:!1,append:!0,alpha:!0,mode:t("./constants").MODE_2D}},{"./colors/RGBA":11,"./constants":15}],89:[function(t,e,r){"use strict";var n;if(void 0===n)try{n=t("platform")}catch(t){}var o=t("peako/once"),i=t("./internal/_get-gl-context-name"),s=t("./options"),a=t("./RendererGL"),f=t("./Renderer2D"),c=t("./constants"),u=t("./report"),h=o(function(){var t,e;return"undefined"!=typeof window&&(t="ontouchstart"in window&&"ontouchmove"in window&&"ontouchend"in window),n&&(e=n.os&&"iOS"===n.os.family&&"Safari"===n.name),t&&!e?c.MODE_GL:c.MODE_2D});e.exports=function(t){var e=t&&t.mode||s.mode;if(e===c.MODE_AUTO&&(e=h()),e===c.MODE_GL){if(i())return new a(t);u("Cannot create WebGL context, fallback to 2D.")}if(e===c.MODE_2D||e===c.MODE_GL)return new f(t)}},{"./Renderer2D":5,"./RendererGL":6,"./constants":15,"./internal/_get-gl-context-name":20,"./options":88,"./report":90,"peako/once":77,platform:"platform"}],90:[function(t,e,r){"use strict";var n,o;"undefined"!=typeof console&&console.warn?(o={},n=function(t){o[t]||(console.warn(t),o[t]=!0)}):n=t("peako/noop"),e.exports=n},{"peako/noop":75}],91:[function(t,e,r){"use strict";e.exports={degress:!1}},{}],92:[function(t,e,r){"use strict";e.exports={basicVert:"precision mediump float;attribute vec2 apos;uniform vec2 ures;uniform mat3 utransform;void main(){gl_Position=vec4(((utransform*vec3(apos,1.0)).xy/ures*2.0-1.0)*vec2(1,-1),0,1);}",basicFrag:"precision mediump float;uniform vec4 ucolor;void main(){gl_FragColor=vec4(ucolor.rgb/255.0,ucolor.a);}",backgroundVert:"precision mediump float;attribute vec2 apos;void main(){gl_Position = vec4(apos,0,1);}",backgroundFrag:"precision mediump float;uniform vec4 ucolor;void main(){gl_FragColor=ucolor;}"}},{}],93:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))}},{}],94:[function(t,e,r){"use strict";var a=t("peako/clamp");e.exports=function(t,e,r,n,o,i){var s=(o-n)*(t-e)/(r-e)+n;return i?n<o?a(s,n,o):a(s,o,n):s}},{"peako/clamp":45}],95:[function(t,e,r){"use strict";var n={Camera:t("./Camera"),CompoundedImage:t("./CompoundedImage"),HSLA:t("./colors/HSLA"),Image:t("./Image"),RGBA:t("./colors/RGBA"),Renderer2D:t("./Renderer2D"),RendererGL:t("./RendererGL"),ShaderProgram:t("./ShaderProgram"),Ticker:t("./Ticker"),Transform:t("./Transform"),Vector2D:t("./math/Vector2D"),Vector3D:t("./math/Vector3D"),color:t("./colors/color"),constants:t("./constants"),options:t("./options"),renderer:t("./renderer"),settings:t("./settings"),shaders:t("./shaders"),dist:t("./utils/dist"),map:t("./utils/map")};"undefined"!=typeof self&&(self.v6=n),e.exports=n},{"./Camera":1,"./CompoundedImage":2,"./Image":3,"./Renderer2D":5,"./RendererGL":6,"./ShaderProgram":7,"./Ticker":8,"./Transform":9,"./colors/HSLA":10,"./colors/RGBA":11,"./colors/color":12,"./constants":15,"./math/Vector2D":25,"./math/Vector3D":26,"./options":88,"./renderer":89,"./settings":91,"./shaders":92,"./utils/dist":93,"./utils/map":94}]},{},[95]);
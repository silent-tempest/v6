<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>v6.Camera API</title>
  <style>
    html, body, canvas
    {
      box-sizing: border-box;
      padding: 0;
      margin:  0;
    }

    html
    {
      min-height: 100%;
      min-width:  100%;
      max-width:  100%;
      height: 100%;
      width:  100%;
    }

    body
    {
      position: relative;
      height: inherit;
      width:  inherit;
    }

    canvas
    {
      position: absolute;
      left: 0;
      top:  0;
    }
  </style>
</head>
<body>
  <script src="../../dist/v6.js"></script>
  <script>
    var renderer = v6.createRenderer( {
      type: v6.constants.get( 'AUTO' )
    } );

    var camera = new v6.Camera( {
      settings: {
        speed: {
          x: 0.1,
          y: 0.1
        }
      },

      renderer: renderer
    } );

    var ticker = new v6.Ticker();

    function Vehicle ()
    {
      this.position = new v6.Vector2D();
    }

    var car = new Vehicle();

    var state = {
      UP: false
    };

    camera.lookAt( car, 'position' );

    ticker.on( 'update', function ( elapsedTime )
    {
      if ( state.UP ) {
        car.position.y -= elapsedTime;
      }

      camera.update();
    } );

    ticker.on( 'render', function ()
    {
      renderer.setTransform( camera );
      renderer.rect( car.position.x, car.position.y, 100, 100 );
    } );

    ticker.start();

    self.addEventListener( 'resize', function ()
    {
      renderer.resizeTo( this );
    } );

    self.addEventListener( 'keypress', function ( event )
    {
      if ( event.keyCode === 38 ) {
        state.UP = true;
      }

      console.log( event.keyCode );
    } );
  </script>
</body>
</html>
